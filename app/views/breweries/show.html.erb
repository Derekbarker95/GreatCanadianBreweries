<h1><%= @brewery.name %></h1>
  <h5><%= @brewery.description %></h5>
  <%= @brewery.phone %>
  

  <a href="<%= @brewery.website %>"><%= @brewery.name %></a>  
  <a href="<%= @brewery.facebook %>">Facebook</a>
  <a href="<%= @brewery.twitter %>">Twitter</a>
  <a href="<%= @brewery.instagram %>">Instagram</a>


  <p>Growlers: <%= @brewery.growler %><p>
  <p>Tours: <%= @brewery.tour %><p>
  <p>Tasteings: <%= @brewery.tasteing %><p>
  <p>Kegs: <%= @brewery.keg %><p>
  
  <div style='width: 800px;'>
    <div id="brewery_map" style='width: 100%; height: 350px;'></div>
  </div>



  <h2> Beers </h2>


  <% @brewery.beers.each do |beer| %>
    <%= render partial: "/beers/beer", locals: {beer: beer} %>
  <% end %>


  <script>

   var mapStyle = [{"featureType":"landscape.natural","elementType":"geometry.fill","stylers":[{"visibility":"on"},{"color":"#D6D3C3"}]},
                  {"featureType":"poi","elementType":"geometry.fill","stylers":[{"visibility":"on"},{"hue":"#FFA836"},{"color":"#2AD194"}]},
                  {"featureType":"road","elementType":"geometry","stylers":[{"lightness":50},{"visibility":"simplified"}]},
                  {"featureType":"road.arterial","elementType":"labels.icon","stylers":[{"visibility":"off"}]},
                  {"featureType":"transit.line","elementType":"geometry","stylers":[{"visibility":"on"},{"lightness":600}]},
                  {"featureType":"water","elementType":"all","stylers":[{"color":"#43BCCC"}]}]
  
    handler = Gmaps.build('Google');
    handler.buildMap({ 
      provider: {
          center:    new google.maps.LatLng(<%= @brewery.latitude%>, <%= @brewery.longitude%>),
          mapTypeId: google.maps.MapTypeId.ROADMAP,
          styles:    mapStyle
      }, 
      internal: {id: 'brewery_map'}}, function(){
        markers = handler.addMarkers([
        {
          "lat": <%= @brewery.latitude %>,
          "lng": <%= @brewery.longitude %>,
          "infowindow": "<%= @brewery.name %>"
        }
    ]);
    
    handler.bounds.extendWith(markers);
    handler.fitMapToBounds();
    handler.getMap().setZoom(18);

  });

  </script>
